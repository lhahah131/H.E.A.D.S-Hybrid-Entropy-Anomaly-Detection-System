"""
Text filter utility to remove restricted words and replace them.
"""

def redact_text(text, sensitive_words, replacement="***"):
    words = text.split()
    redacted = []
    
    for word in words:
        clean = ""
        punctuation = ""
        for char in word:
            if char.isalpha() or char.isdigit():
                clean += char
            else:
                punctuation += char
                
        if clean.lower() in [s.lower() for s in sensitive_words]:
            redacted.append(replacement + punctuation)
        else:
            redacted.append(word)
            
    return " ".join(redacted)

def extract_hashtags(text):
    words = text.split()
    hashtags = []
    for word in words:
        if word.startswith("#") and len(word) > 1:
            clean_tag = "".join(c for c in word[1:] if c.isalnum() or c == "_")
            if clean_tag:
                hashtags.append(clean_tag.lower())
    return hashtags

def remove_vowels(text):
    vowels = "aeiouAEIOU"
    return "".join(char for char in text if char not in vowels)

if __name__ == "__main__":
    msg = "My secret password is admin #security #top_secret!"
    protected = redact_text(msg, ["password", "admin"])
    tags = extract_hashtags(msg)
    print("redacted:", protected)
    print("tags:", tags)
