"""
Simple 2d matrix operations implemented with nested lists.
"""

def matrix_addition(mat_a, mat_b):
    if len(mat_a) != len(mat_b) or len(mat_a[0]) != len(mat_b[0]):
        raise ValueError("matrices must have the same dimensions")
    
    result = []
    for i in range(len(mat_a)):
        row = []
        for j in range(len(mat_a[0])):
            row.append(mat_a[i][j] + mat_b[i][j])
        result.append(row)
    return result

def matrix_scalar_multiplication(mat, scalar):
    result = []
    for r in mat:
        row = [val * scalar for val in r]
        result.append(row)
    return result

def matrix_transpose(mat):
    if not mat:
        return []
    result = []
    for j in range(len(mat[0])):
        row = []
        for i in range(len(mat)):
            row.append(mat[i][j])
        result.append(row)
    return result

if __name__ == "__main__":
    m1 = [[1, 2], [3, 4]]
    m2 = [[5, 6], [7, 8]]
    print("addition:", matrix_addition(m1, m2))
    print("transpose m1:", matrix_transpose(m1))
