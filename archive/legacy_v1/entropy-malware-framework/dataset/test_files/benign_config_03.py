"""
Simulation parameters configuration file.
Used logically by scientific or numerical simulation engines.
"""

SIMULATION_PARAMS = {
    "metadata": {
        "project_name": "fluid_dynamics_study_01",
        "author": "research_team_alpha",
        "version": "1.0.4",
        "environment": "laboratory_cluster",
        "description": "analysis of laminar to turbulent transition"
    },
    "grid": {
        "dimensions": 3,
        "domain": {
            "x_min": 0.0,
            "x_max": 10.0,
            "y_min": 0.0,
            "y_max": 5.0,
            "z_min": 0.0,
            "z_max": 2.0
        },
        "resolution": {
            "nx": 256,
            "ny": 128,
            "nz": 64
        },
        "boundary_conditions": {
            "x_min": "inlet",
            "x_max": "outlet",
            "y_min": "wall",
            "y_max": "wall",
            "z_min": "periodic",
            "z_max": "periodic"
        }
    },
    "fluid_properties": {
        "density": 1000.0,
        "dynamic_viscosity": 0.001,
        "kinematic_viscosity": 1e-6,
        "thermal_conductivity": 0.6,
        "specific_heat": 4184.0,
        "compressibility": "incompressible"
    },
    "solver": {
        "method": "finite_volume",
        "time_integration": "runge_kutta_4",
        "pressure_velocity_coupling": "piso",
        "courant_number": 0.45,
        "time_step": 0.001,
        "max_iterations": 10000,
        "tolerance": {
            "velocity": 1e-6,
            "pressure": 1e-5,
            "temperature": 1e-6
        }
    },
    "output": {
        "format": "vtu",
        "write_interval": 100,
        "fields_to_save": [
            "velocity_x",
            "velocity_y",
            "velocity_z",
            "pressure",
            "turbulent_kinetic_energy",
            "vorticity_magnitude"
        ],
        "statistics": {
            "compute_mean": True,
            "compute_rms": True,
            "start_averaging_time": 2.0
        }
    }
}

def load_sim_config():
    return SIMULATION_PARAMS

def check_grid_validity():
    domain = SIMULATION_PARAMS["grid"]["domain"]
    res = SIMULATION_PARAMS["grid"]["resolution"]
    
    if domain["x_min"] >= domain["x_max"]:
        return False
    if res["nx"] <= 0 or res["ny"] <= 0 or res["nz"] <= 0:
        return False
        
    return True

if __name__ == "__main__":
    cfg = load_sim_config()
    print("sim name:", cfg["metadata"]["project_name"])
    print("grid valid:", check_grid_validity())
